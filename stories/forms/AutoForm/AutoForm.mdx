import { Meta, Canvas, Source, Story, Primary, ArgTypes } from "@storybook/blocks"
import * as AutoFormStories from './AutoForm.stories'
import fieldConfigSource from './data/field-config.js?raw'
import schemaSource from './data/user.js?raw'

<Meta title="Forms/AutoForm/Docs" />

# AutoForm

Automatically generate a form from Zod schema.

## Field Types

Currently, these field types are supported out of the box:

- boolean (checkbox, switch)
- date (date picker)
- enum (select, radio group)
- number (input)
- string (input, textfield)
- file (file)

We can add support for other field types by adding them to the `INPUT_COMPONENTS` 
object in `auto-form/constants.ts`.

## Field Configurations

<Source code={`
<template>
  <AutoForm
    :field-config="{
      username: {
        label: 'Custom username',
        description: 'Enter a unique username. This will be shown to other users.',
        inputProps: {
          type: 'text',
          placeholder: 'Username',
        },
        showLabel: true, // Set to \`false\` to hide the field. Default value is \`true\`.
        component: 'switch',
      },
    }"
  />
</template>
`} />

Supported component types are:

- checkbox (default for booleans)
- switch
- date (default for dates)
- select (default for enums)
- radio
- textarea

## References

{/* BUG: link texts won't rendered as clickable link */}
Read more at: [https://www.shadcn-vue.com/docs/components/auto-form.html](https://www.shadcn-vue.com/docs/components/auto-form.html)<br />
Primitive API Reference: [https://vee-validate.logaretm.com/v4/guide/overview](https://vee-validate.logaretm.com/v4/guide/overview)<br />
Zod API Reference: [https://zod.dev/?id=basic-usage](https://zod.dev/?id=basic-usage)

<Canvas of={AutoFormStories.Default} />
<ArgTypes of={AutoFormStories} />

### Field Configuration Example

<Source code={fieldConfigSource} />

### Zod Schema

<Source code={schemaSource} />

## Sub Object

<Canvas of={AutoFormStories.SubObject} />

## Controlled

<Canvas of={AutoFormStories.Controlled} />

## Confirm Password

<Canvas of={AutoFormStories.ConfirmPassword} />

## API Example

<Canvas of={AutoFormStories.APIExample} />

## Array Support

<Canvas of={AutoFormStories.ArraySupport} />

## Dependencies

<Canvas of={AutoFormStories.Dependencies} />
